{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack://[next]/internal/font/google/inter_92243eee.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_export_value__({\n  \"className\": \"inter_92243eee-module__hBCtSW__className\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 9, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["turbopack://[next]/internal/font/google/inter_92243eee.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.js%22,%22import%22:%22Inter%22,%22arguments%22:[{%22subsets%22:[%22latin%22]}],%22variableName%22:%22inter%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Inter', 'Inter Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,wJAAA,CAAA,UAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,WAAW;IAEf;AACJ;AAEA,IAAI,wJAAA,CAAA,UAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,wJAAA,CAAA,UAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file://C%3A/2%C2%BADAW/DWES/Proyectos/autenticacion-pizzeria/src/lib/prisma.js"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\r\n\r\nconst prisma = global.prisma || new PrismaClient()\r\nif (process.env.NODE_ENV !== 'production') global.prisma = prisma\r\n\r\nexport default prisma"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,SAAS,OAAO,MAAM,IAAI,IAAI,6HAAA,CAAA,eAAY;AAChD,wCAA2C,OAAO,MAAM,GAAG;uCAE5C"}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file://C%3A/2%C2%BADAW/DWES/Proyectos/autenticacion-pizzeria/src/lib/data.js"],"sourcesContent":["'use server'\r\nimport  prisma  from '@/lib/prisma'\r\n\r\nexport async function getUserById(id) {\r\n  const user = await prisma.user.findUnique({\r\n    where: { id }\r\n  });\r\n  return user\r\n}\r\n\r\nexport async function getUserByEmail(email) {\r\n  const user = await prisma.user.findUnique({\r\n    where: { email }\r\n  });\r\n  return user\r\n}\r\n\r\n\r\n\r\n\r\nasync function obtenerRepartidores() {\r\n  const repartidores = await prisma.repartidor.findMany()\r\n  return repartidores\r\n}\r\n\r\n\r\nasync function obtenerRepartidor(id) {\r\n  const repartidor = await prisma.repartidor.findUnique({\r\n      where: { id: +id }\r\n  })\r\n  return repartidor\r\n}\r\n\r\n\r\n// ---------------------   PEDIDOS -----------------------\r\n\r\nasync function obtenerPedidos() {\r\n  const pedidos = await prisma.pedido.findMany({\r\n      include: {\r\n          repartidor: true,\r\n          pizzas: true,\r\n      }\r\n  })\r\n  return pedidos\r\n}\r\n\r\n\r\nasync function obtenerPedido(id) {\r\n  const pedido = await prisma.pedido.findUnique({\r\n      where: { id: +id },\r\n      include: {\r\n          repartidor: true,\r\n          pizzas: true,\r\n      }\r\n  })\r\n  return pedido\r\n}\r\n\r\n// ---------------------   PIZZAS -----------------------\r\n\r\nasync function obtenerPizzas() {\r\n  const pizzas = await prisma.pizza.findMany()\r\n  return pizzas\r\n}\r\n\r\n\r\nasync function obtenerPizza(id) {\r\n  const pizza = await prisma.pizza.findUnique({\r\n      where: { id: +id }\r\n  })\r\n  return pizza\r\n}\r\n\r\n\r\nexport {\r\n  obtenerRepartidores,\r\n  obtenerRepartidor,\r\n  obtenerPedidos,\r\n  obtenerPedido,\r\n  obtenerPizzas,\r\n  obtenerPizza\r\n}"],"names":[],"mappings":";;;;;;;;;;;;AACA;;;;;AAEO,eAAe,uCAAS,GAAT,YAAY,EAAE;IAClC,MAAM,OAAO,MAAM,oHAAA,CAAA,UAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxC,OAAO;YAAE;QAAG;IACd;IACA,OAAO;AACT;AAEO,eAAe,uCAAY,GAAZ,eAAe,KAAK;IACxC,MAAM,OAAO,MAAM,oHAAA,CAAA,UAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxC,OAAO;YAAE;QAAM;IACjB;IACA,OAAO;AACT;AAKA,eAAe;IACb,MAAM,eAAe,MAAM,oHAAA,CAAA,UAAM,CAAC,UAAU,CAAC,QAAQ;IACrD,OAAO;AACT;AAGA,eAAe,kBAAkB,EAAE;IACjC,MAAM,aAAa,MAAM,oHAAA,CAAA,UAAM,CAAC,UAAU,CAAC,UAAU,CAAC;QAClD,OAAO;YAAE,IAAI,CAAC;QAAG;IACrB;IACA,OAAO;AACT;AAGA,0DAA0D;AAE1D,eAAe;IACb,MAAM,UAAU,MAAM,oHAAA,CAAA,UAAM,CAAC,MAAM,CAAC,QAAQ,CAAC;QACzC,SAAS;YACL,YAAY;YACZ,QAAQ;QACZ;IACJ;IACA,OAAO;AACT;AAGA,eAAe,cAAc,EAAE;IAC7B,MAAM,SAAS,MAAM,oHAAA,CAAA,UAAM,CAAC,MAAM,CAAC,UAAU,CAAC;QAC1C,OAAO;YAAE,IAAI,CAAC;QAAG;QACjB,SAAS;YACL,YAAY;YACZ,QAAQ;QACZ;IACJ;IACA,OAAO;AACT;AAEA,yDAAyD;AAEzD,eAAe;IACb,MAAM,SAAS,MAAM,oHAAA,CAAA,UAAM,CAAC,KAAK,CAAC,QAAQ;IAC1C,OAAO;AACT;AAGA,eAAe,aAAa,EAAE;IAC5B,MAAM,QAAQ,MAAM,oHAAA,CAAA,UAAM,CAAC,KAAK,CAAC,UAAU,CAAC;QACxC,OAAO;YAAE,IAAI,CAAC;QAAG;IACrB;IACA,OAAO;AACT;;;;IApEsB;IAOA;IAiEpB,uCAAiB,GAAjB;IACA,uCAAe,GAAf;IACA,uCAAY,GAAZ;IACA,uCAAW,GAAX;IACA,uCAAW,GAAX;IACA,uCAAU,GAAV;;AA7EoB,+OAAA;AAOA,+OAAA;AAiEpB,+OAAA;AACA,+OAAA;AACA,+OAAA;AACA,+OAAA;AACA,+OAAA;AACA,+OAAA"}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file://C%3A/2%C2%BADAW/DWES/Proyectos/autenticacion-pizzeria/src/auth.config.js"],"sourcesContent":["import Google from \"@auth/core/providers/google\"\r\nimport GitHub from '@auth/core/providers/github'\r\nimport Discord from '@auth/core/providers/discord'\r\nimport Credentials from \"@auth/core/providers/credentials\"\r\nimport { getUserByEmail } from \"@/lib/data\"\r\n\r\nexport default {\r\n    providers: [\r\n        Google,\r\n        GitHub,\r\n        Discord,\r\n        Credentials({\r\n            async authorize(credentials) {\r\n                console.log('AUTHORIZE')\r\n                const user = await getUserByEmail(credentials.email)\r\n                return user\r\n            },\r\n        }),\r\n    ]\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;;;;;;uCAEe;IACX,WAAW;QACP,qJAAA,CAAA,UAAM;QACN,qJAAA,CAAA,UAAM;QACN,sJAAA,CAAA,UAAO;QACP,CAAA,GAAA,0JAAA,CAAA,UAAW,AAAD,EAAE;YACR,MAAM,WAAU,WAAW;gBACvB,QAAQ,GAAG,CAAC;gBACZ,MAAM,OAAO,MAAM,CAAA,GAAA,kHAAA,CAAA,iBAAc,AAAD,EAAE,YAAY,KAAK;gBACnD,OAAO;YACX;QACJ;KACH;AACL"}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 240, "column": 0}, "map": {"version":3,"sources":["file://C%3A/2%C2%BADAW/DWES/Proyectos/autenticacion-pizzeria/src/auth.js"],"sourcesContent":["import NextAuth from \"next-auth\"\r\nimport  prisma  from \"@/lib/prisma\"\r\nimport { PrismaAdapter } from \"@auth/prisma-adapter\";\r\nimport { getUserById } from \"@/lib/data\"\r\nimport authConfig from \"@/auth.config\"\r\n\r\n\r\nexport const options = {\r\n    session: { strategy: 'jwt' },\r\n    adapter: PrismaAdapter(prisma),\r\n    pages: {\r\n        signIn: '/auth/login',\r\n        signOut: '/auth/logout',\r\n        error: '/auth/error'\r\n    },\r\n    events: {\r\n        async linkAccount({ user }) {\r\n            await prisma.user.update({\r\n                where: { id: user.id },\r\n                data: { emailVerified: new Date() }\r\n            })\r\n        }\r\n    },\r\n    callbacks: {\r\n        async session({ session, token }) {\r\n            session.user.id = token?.sub;     // Para recuperar ID de usuario desde el token\r\n            session.user.role = token?.role   // Para recuperar rol de usuario desde el token\r\n            return session\r\n        },\r\n\r\n        async jwt({ token }) {\r\n            if (!token.sub) return token;\r\n\r\n            const user = await getUserById(token.sub)\r\n            if (!user) return token;\r\n\r\n            token.role = user?.role\r\n            return token\r\n        }\r\n    },\r\n}\r\n\r\n\r\n\r\nexport const {\r\n    handlers: { GET, POST },\r\n    auth,\r\n    signIn,\r\n    signOut\r\n} = NextAuth({ ...options, ...authConfig })\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAJA;;;;;;AAOO,MAAM,UAAU;IACnB,SAAS;QAAE,UAAU;IAAM;IAC3B,SAAS,CAAA,GAAA,oJAAA,CAAA,gBAAa,AAAD,EAAE,oHAAA,CAAA,UAAM;IAC7B,OAAO;QACH,QAAQ;QACR,SAAS;QACT,OAAO;IACX;IACA,QAAQ;QACJ,MAAM,aAAY,EAAE,IAAI,EAAE;YACtB,MAAM,oHAAA,CAAA,UAAM,CAAC,IAAI,CAAC,MAAM,CAAC;gBACrB,OAAO;oBAAE,IAAI,KAAK,EAAE;gBAAC;gBACrB,MAAM;oBAAE,eAAe,IAAI;gBAAO;YACtC;QACJ;IACJ;IACA,WAAW;QACP,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC5B,QAAQ,IAAI,CAAC,EAAE,GAAG,OAAO,KAAS,8CAA8C;YAChF,QAAQ,IAAI,CAAC,IAAI,GAAG,OAAO,KAAO,+CAA+C;;YACjF,OAAO;QACX;QAEA,MAAM,KAAI,EAAE,KAAK,EAAE;YACf,IAAI,CAAC,MAAM,GAAG,EAAE,OAAO;YAEvB,MAAM,OAAO,MAAM,CAAA,GAAA,kHAAA,CAAA,cAAW,AAAD,EAAE,MAAM,GAAG;YACxC,IAAI,CAAC,MAAM,OAAO;YAElB,MAAM,IAAI,GAAG,MAAM;YACnB,OAAO;QACX;IACJ;AACJ;AAIO,MAAM,EACT,UAAU,EAAE,GAAG,EAAE,IAAI,EAAE,EACvB,IAAI,EACJ,MAAM,EACN,OAAO,EACV,GAAG,CAAA,GAAA,qJAAA,CAAA,UAAQ,AAAD,EAAE;IAAE,GAAG,OAAO;IAAE,GAAG,qHAAA,CAAA,UAAU;AAAC"}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":["file://C%3A/2%C2%BADAW/DWES/Proyectos/autenticacion-pizzeria/src/lib/actions.js"],"sourcesContent":["'use server'\r\nimport bcrypt from 'bcryptjs'\r\nimport  prisma  from '@/lib/prisma'\r\nimport { signIn, signOut } from '@/auth';\r\nimport { getUserByEmail } from '@/lib/data';\r\nimport { revalidatePath } from 'next/cache'\r\n\r\n\r\n// REGISTER\r\nexport async function register(prevState, formData) {\r\n    const name = formData.get('name')\r\n    const email = formData.get('email')\r\n    const password = formData.get('password')\r\n\r\n    // Comprobamos si el usuario ya está registrado\r\n    const user = await getUserByEmail(email);\r\n\r\n    if (user) {\r\n        return {\r\n            error: 'El email ya está registrado',\r\n            fields: Object.fromEntries(formData.entries())\r\n        }\r\n    }\r\n\r\n    // Encriptamos password \r\n    const hashedPassword = await bcrypt.hash(password, 10)\r\n\r\n    // Guardamos credenciales en base datos\r\n    await prisma.user.create({\r\n        data: {\r\n            name,\r\n            email,\r\n            password: hashedPassword\r\n        }\r\n    })\r\n\r\n    return { success: \"Registro correcto\" }\r\n}\r\n\r\n\r\n\r\n// LOGIN credentials\r\nexport async function login(prevState, formData) {\r\n    const email = formData.get('email')\r\n    const password = formData.get('password')\r\n\r\n    // Comprobamos si el usuario está registrado\r\n    const user = await getUserByEmail(email);\r\n\r\n    if (!user) {\r\n        return {\r\n            error: 'Usuario no registrado.',\r\n            fields: Object.fromEntries(formData.entries())\r\n        }\r\n    }\r\n\r\n    // Comparamos password \r\n    const matchPassword = await bcrypt.compare(password, user.password)\r\n\r\n    if (user && matchPassword) {  // && user.emailVerified\r\n        await signIn('credentials',\r\n            {\r\n                email, password,\r\n                redirectTo: globalThis.callbackUrl\r\n            })\r\n        return { success: \"Inicio de sesión correcto\" }\r\n    } else {\r\n        return {\r\n            error: 'Credenciales incorrectas.',\r\n            fields: Object.fromEntries(formData.entries())\r\n        }\r\n    }\r\n\r\n}\r\n\r\n// LOGIN google\r\nexport async function loginGoogle() {\r\n    try {\r\n        await signIn('google', { redirectTo: globalThis.callbackUrl })\r\n    } catch (error) {\r\n        console.log(error);\r\n        throw error\r\n    }\r\n}\r\n\r\n// LOGIN github\r\nexport async function loginGithub() {\r\n    try {\r\n        await signIn('github', { redirectTo: globalThis.callbackUrl })\r\n    } catch (error) {\r\n        console.log(error);\r\n        throw error\r\n    }\r\n}\r\n\r\n\r\n// LOGIN discord\r\nexport async function loginDiscord() {\r\n    try {\r\n        await signIn('discord', { redirectTo: globalThis.callbackUrl })\r\n    } catch (error) {\r\n        console.log(error);\r\n        throw error\r\n    }\r\n}\r\n\r\n\r\n// LOGIN resend (Magic Link to email)\r\nexport async function loginResend(formData) {\r\n    try {\r\n        await signIn(\"resend\", formData)\r\n    } catch (error) {\r\n        console.log(error);\r\n        throw error\r\n    }\r\n}\r\n\r\n\r\n\r\n// LOGOUT\r\nexport async function logout() {\r\n    try {\r\n        await signOut({ redirectTo: '/' })\r\n    } catch (error) {\r\n        throw error\r\n    }\r\n}\r\n\r\nexport async function insertarRepartidor(formData) {\r\n    const nombre = formData.get('nombre')\r\n    const telefono = formData.get('telefono')\r\n    const imagen = formData.get('imagen') || null\r\n\r\n    await prisma.repartidor.create({\r\n        data: {\r\n            nombre: nombre,\r\n            telefono: telefono,\r\n            imagen: imagen\r\n        }\r\n    })\r\n\r\n    revalidatePath('/repartidores')\r\n\r\n}\r\n\r\n\r\nexport async function modificarRepartidor(formData) {\r\n    const id = Number(formData.get('id'))\r\n    const nombre = formData.get('nombre')\r\n    const telefono = formData.get('telefono')\r\n    const imagen = formData.get('imagen')\r\n\r\n\r\n    await prisma.repartidor.update({\r\n        where: {\r\n            id: id\r\n        },\r\n        data: {\r\n            nombre: nombre,\r\n            telefono: telefono,\r\n            imagen: imagen\r\n        }\r\n    })\r\n\r\n    revalidatePath('/repartidores')\r\n}\r\n\r\n\r\n\r\nexport async function eliminarRepartidor(formData) {\r\n    const id = Number(formData.get('id'))\r\n\r\n    await prisma.repartidor.delete({\r\n        where: {\r\n            id: id\r\n        }\r\n    })\r\n\r\n    revalidatePath('/repartidores')\r\n\r\n}\r\n\r\n\r\n//  ------------------------ PEDIDOS ------------------------\r\n\r\n\r\nexport async function insertarPedido(prevState, formData) {\r\n    const fecha_hora = new Date(formData.get('fecha_hora'))\r\n    const nombre_cliente = formData.get('nombre_cliente')\r\n    const direccion_cliente = formData.get('direccion_cliente')\r\n\r\n    const repartidorId = Number(formData.get('repartidorId')) || null\r\n\r\n    const pizzasIDs = await prisma.pizza.findMany({\r\n        select: { id: true }\r\n    })\r\n\r\n    const connect = pizzasIDs.filter(p => formData.get(`pizza${p.id}`) !== null)\r\n \r\n\r\n    await prisma.pedido.create({\r\n        data: {\r\n            fecha_hora: fecha_hora,\r\n            nombre_cliente: nombre_cliente,\r\n            direccion_cliente: direccion_cliente,\r\n            repartidorId: repartidorId,\r\n            pizzas: { connect }\r\n        }\r\n    })\r\n\r\n    revalidatePath('/pedidos')\r\n    return { success: 'Operación realizada correctamente' }\r\n\r\n}\r\n\r\n\r\n\r\nexport async function modificarPedido(prevState, formData) {\r\n    const id = Number(formData.get('id'))\r\n    const fecha_hora = new Date(formData.get('fecha_hora'))\r\n    const nombre_cliente = formData.get('nombre_cliente')\r\n    const direccion_cliente = formData.get('direccion_cliente')\r\n\r\n    const repartidorId = Number(formData.get('repartidorId')) || null\r\n\r\n    const pizzasIDs = await prisma.pizza.findMany({\r\n        select: { id: true }\r\n    })\r\n    // console.log(pizzasIDs);\r\n    const connect = pizzasIDs.filter(p => formData.get(`pizza${p.id}`) !== null)\r\n    const disconnect = pizzasIDs.filter(p => formData.get(`pizza${p.id}`) === null)\r\n    // console.log(connect);\r\n\r\n    await prisma.pedido.update({\r\n        where: {\r\n            id: id\r\n        },\r\n        data: {\r\n            fecha_hora: fecha_hora,\r\n            nombre_cliente: nombre_cliente,\r\n            direccion_cliente: direccion_cliente,\r\n            repartidorId: repartidorId,\r\n            pizzas: { connect, disconnect }\r\n        }\r\n    })\r\n\r\n    revalidatePath('/pedidos')\r\n    return { success: 'Operación realizada correctamente' }\r\n}\r\n\r\n\r\n\r\nexport async function eliminarPedido(prevState, formData) {\r\n    const id = Number(formData.get('id'))\r\n\r\n    await prisma.pedido.delete({\r\n        where: {\r\n            id: id\r\n        }\r\n    })\r\n\r\n    revalidatePath('/pedidos')\r\n    return { success: 'Operación realizada correctamente' }\r\n\r\n}\r\n\r\n// ------------------------------- PIZZAS -----------------------\r\n\r\n\r\nexport async function insertarPizza(formData) {\r\n    const nombre = formData.get('nombre')\r\n    const precio = Number(formData.get('precio'))\r\n    const imagen = formData.get('imagen')\r\n\r\n\r\n    await prisma.pizza.create({\r\n        data: {\r\n            nombre: nombre,\r\n            precio: precio,\r\n        }\r\n    })\r\n\r\n    revalidatePath('/pizzas')\r\n    return { success: 'Éxito al realizar la operación' }\r\n\r\n}\r\n\r\n\r\n\r\nexport async function modificarPizza(formData) {\r\n    const id = Number(formData.get('id'))\r\n    const nombre = formData.get('nombre')\r\n    const precio = Number(formData.get('precio'))\r\n    const imagen = formData.get('imagen')\r\n    \r\n    await prisma.pizza.update({\r\n        where: {\r\n            id: id\r\n        },\r\n        data: {\r\n            nombre: nombre,\r\n            precio: precio,\r\n            imagen: imagen\r\n        }\r\n    })\r\n\r\n    revalidatePath('/pizzas')\r\n}\r\n\r\n\r\n\r\nexport async function eliminarPizza(formData) {\r\n    const id = Number(formData.get('id'))\r\n\r\n    await prisma.pizza.delete({\r\n        where: {\r\n            id: id\r\n        }\r\n    })\r\n\r\n    revalidatePath('/pizzas')\r\n\r\n}\r\n\r\n\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 631, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 637, "column": 0}, "map": {"version":3,"sources":["file://C%3A/2%C2%BADAW/DWES/Proyectos/autenticacion-pizzeria/src/components/header.js"],"sourcesContent":["import Link from 'next/link';\r\nimport { auth } from \"@/auth\";\r\nimport { logout } from '@/lib/actions';\r\nimport { Home, User, Shield, Utensils, Truck, Info, LogIn, LogOut } from 'lucide-react';\r\n\r\nasync function Header() {\r\n    const session = await auth();\r\n    \r\n    return (\r\n        <header className=\"bg-red-700 text-white shadow-xl px-6 py-4\">\r\n            <div className=\"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4\">\r\n                <nav className=\"flex items-center flex-wrap gap-4 justify-center\">\r\n                    <Link href=\"/\" className=\"flex items-center gap-2 group hover:scale-105 transition-transform\">\r\n                        <Home className=\"h-7 w-7 text-red-200 group-hover:text-white transition-colors\" />\r\n                        <span className=\"font-bold text-xl cursor-pointer hidden sm:block\">TRATTORIA</span>\r\n                    </Link>\r\n                    \r\n                    <div className=\"flex items-center gap-4 border-l-2 border-orange-200/30 pl-4 ml-4\">\r\n                        {session?.user?.role === 'ADMIN' && (\r\n                            <Link href=\"/admin\" className=\"flex items-center gap-1 hover:bg-white/10 px-3 py-1 rounded-lg transition-all\">\r\n                                <Shield className=\"h-5 w-5\" />\r\n                                <span className=\"font-semibold\">Admin</span>\r\n                            </Link>\r\n                        )}\r\n                        {session?.user?.role === 'USER' && (\r\n                            <Link href=\"/dashboard\" className=\"flex items-center gap-1 hover:bg-white/10 px-3 py-1 rounded-lg transition-all\">\r\n                                <User className=\"h-5 w-5\" />\r\n                                <span className=\"font-semibold\">Dashboard</span>\r\n                            </Link>\r\n                        )}\r\n                        <Link href=\"/pizzas\" className=\"flex items-center gap-1 hover:bg-white/10 px-3 py-1 rounded-lg transition-all\">\r\n                            <Utensils className=\"h-5 w-5\" />\r\n                            <span className=\"font-semibold\">Pizzas</span>\r\n                        </Link>\r\n                        <Link href=\"/repartidores\" className=\"flex items-center gap-1 hover:bg-white/10 px-3 py-1 rounded-lg transition-all\">\r\n                            <Truck className=\"h-5 w-5\" />\r\n                            <span className=\"font-semibold\">Repartidores</span>\r\n                        </Link>\r\n                        {session?.user?.role === 'ADMIN' && (\r\n                            <Link href=\"/pedidos\" className=\"flex items-center gap-1 hover:bg-white/10 px-3 py-1 rounded-lg transition-all\">\r\n                                <LogOut className=\"h-5 w-5 rotate-180\" />\r\n                                <span className=\"font-semibold\">Pedidos</span>\r\n                            </Link>\r\n                        )}\r\n                        <Link href=\"/about\" className=\"flex items-center gap-1 hover:bg-white/10 px-3 py-1 rounded-lg transition-all\">\r\n                            <Info className=\"h-5 w-5\" />\r\n                            <span className=\"font-semibold\">About</span>\r\n                        </Link>\r\n                    </div>\r\n                </nav>\r\n\r\n                <div className=\"flex items-center gap-4\">\r\n                    {session ? (\r\n                        <form>\r\n                            <button \r\n                                formAction={logout} \r\n                                className=\"flex items-center gap-2 bg-white/10 hover:bg-white/20 px-6 py-2 rounded-xl font-semibold transition-all group\"\r\n                            >\r\n                                <LogOut className=\"h-5 w-5 group-hover:scale-110 transition-transform\" />\r\n                                <span>Logout</span>\r\n                            </button>\r\n                        </form>\r\n                    ) : (\r\n                        <Link \r\n                            href=\"/auth/login\" \r\n                            className=\"flex items-center gap-2 bg-slate-900 hover:bg-white text-white hover:text-black px-6 py-2 rounded-xl font-semibold transition-all group\"\r\n                        >\r\n                            <LogIn className=\"h-5 w-5 group-hover:scale-110 transition-transform\" />\r\n                            <span>Login</span>\r\n                        </Link>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;AAEA,eAAe;IACX,MAAM,UAAU,MAAM,CAAA,GAAA,2GAAA,CAAA,OAAI,AAAD;IAEzB,qBACI,8OAAC;QAAO,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;4BAAI,WAAU;;8CACrB,8OAAC,mMAAA,CAAA,OAAI;oCAAC,WAAU;;;;;;8CAChB,8OAAC;oCAAK,WAAU;8CAAmD;;;;;;;;;;;;sCAGvE,8OAAC;4BAAI,WAAU;;gCACV,SAAS,MAAM,SAAS,yBACrB,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAS,WAAU;;sDAC1B,8OAAC,sMAAA,CAAA,SAAM;4CAAC,WAAU;;;;;;sDAClB,8OAAC;4CAAK,WAAU;sDAAgB;;;;;;;;;;;;gCAGvC,SAAS,MAAM,SAAS,wBACrB,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAa,WAAU;;sDAC9B,8OAAC,kMAAA,CAAA,OAAI;4CAAC,WAAU;;;;;;sDAChB,8OAAC;4CAAK,WAAU;sDAAgB;;;;;;;;;;;;8CAGxC,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAU,WAAU;;sDAC3B,8OAAC,0MAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;sDACpB,8OAAC;4CAAK,WAAU;sDAAgB;;;;;;;;;;;;8CAEpC,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAgB,WAAU;;sDACjC,8OAAC,oMAAA,CAAA,QAAK;4CAAC,WAAU;;;;;;sDACjB,8OAAC;4CAAK,WAAU;sDAAgB;;;;;;;;;;;;gCAEnC,SAAS,MAAM,SAAS,yBACrB,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAW,WAAU;;sDAC5B,8OAAC,0MAAA,CAAA,SAAM;4CAAC,WAAU;;;;;;sDAClB,8OAAC;4CAAK,WAAU;sDAAgB;;;;;;;;;;;;8CAGxC,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAS,WAAU;;sDAC1B,8OAAC,kMAAA,CAAA,OAAI;4CAAC,WAAU;;;;;;sDAChB,8OAAC;4CAAK,WAAU;sDAAgB;;;;;;;;;;;;;;;;;;;;;;;;8BAK5C,8OAAC;oBAAI,WAAU;8BACV,wBACG,8OAAC;kCACG,cAAA,8OAAC;4BACG,YAAY,qHAAA,CAAA,SAAM;4BAClB,WAAU;;8CAEV,8OAAC,0MAAA,CAAA,SAAM;oCAAC,WAAU;;;;;;8CAClB,8OAAC;8CAAK;;;;;;;;;;;;;;;;6CAId,8OAAC,4JAAA,CAAA,UAAI;wBACD,MAAK;wBACL,WAAU;;0CAEV,8OAAC,wMAAA,CAAA,QAAK;gCAAC,WAAU;;;;;;0CACjB,8OAAC;0CAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOlC;uCAEe"}},
    {"offset": {"line": 930, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 936, "column": 0}, "map": {"version":3,"sources":["file://C%3A/2%C2%BADAW/DWES/Proyectos/autenticacion-pizzeria/src/app/layout.js"],"sourcesContent":["import '@/app/globals.css'\r\nimport { Inter } from 'next/font/google'\r\nimport Header from '@/components/header'\r\n\r\n\r\nconst inter = Inter({ subsets: ['latin'] })\r\n\r\nexport const metadata = {\r\n  title: 'Authjs 5: Middleware',\r\n  description: 'Generated by create next app',\r\n}\r\n\r\nexport default async function RootLayout({ children }) {\r\n\r\n\r\n  return (\r\n    <html lang=\"es\">\r\n      <body className={`bg-slate-800 ${inter.className}`} >\r\n        <Header />\r\n        <main className=\"md:px-10\">\r\n          {children}\r\n        </main>\r\n      </body>\r\n    </html>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEA;;;;;AAKO,MAAM,WAAW;IACtB,OAAO;IACP,aAAa;AACf;AAEe,eAAe,WAAW,EAAE,QAAQ,EAAE;IAGnD,qBACE,8OAAC;QAAK,MAAK;kBACT,cAAA,8OAAC;YAAK,WAAW,CAAC,aAAa,EAAE,yIAAA,CAAA,UAAK,CAAC,SAAS,EAAE;;8BAChD,8OAAC,2HAAA,CAAA,UAAM;;;;;8BACP,8OAAC;oBAAK,WAAU;8BACb;;;;;;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 982, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}